<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link as=font href=https://staging.xyquadrat.ch/fonts/vendor/jost/jost-v4-latin-regular.woff2 rel=preload type=font/woff2><link as=font href=https://staging.xyquadrat.ch/fonts/vendor/jost/jost-v4-latin-700.woff2 rel=preload type=font/woff2><link href=https://staging.xyquadrat.ch/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Running an appropriately sophisticated Minecraft server in 2021 | xyquadrat.ch</title><meta content="Blog about software, ETH and life" name=description><link href=https://staging.xyquadrat.ch/2021/12/13/running-vanilla-minecraft-in-2021/ rel=canonical><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://staging.xyquadrat.ch/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "2021",
            "item": "https://staging.xyquadrat.ch/2021/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "12",
            "item": "https://staging.xyquadrat.ch/2021/12/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "13",
            "item": "https://staging.xyquadrat.ch/2021/12/13/"
          },
        
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  5 ,
            "name": "Running Vanilla Minecraft In 2021",
            "item": "https://staging.xyquadrat.ch/2021/12/13/running-vanilla-minecraft-in-2021/"
          },
        
      
    
  }
</script><meta content=#fff name=theme-color><link href=https://staging.xyquadrat.ch/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://staging.xyquadrat.ch/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://staging.xyquadrat.ch/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://staging.xyquadrat.ch/site.webmanifest rel=manifest><body class="blog single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" id=menu-btn type=checkbox><label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://staging.xyquadrat.ch><img height=48px src=/mono_icon.svg></a><button aria-label="Toggle mode" class="btn btn-link order-2 order-md-4" id=mode type=button><span class=toggle-dark><svg class="feather feather-moon" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span> <span class=toggle-light><svg class="feather feather-sun" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=5></circle><line x1=12 x2=12 y1=1 y2=3></line><line x1=12 x2=12 y1=21 y2=23></line><line x1=4.22 x2=5.64 y1=4.22 y2=5.64></line><line x1=18.36 x2=19.78 y1=18.36 y2=19.78></line><line x1=1 x2=3 y1=12 y2=12></line><line x1=21 x2=23 y1=12 y2=12></line><line x1=4.22 x2=5.64 y1=19.78 y2=18.36></line><line x1=18.36 x2=19.78 y1=5.64 y2=4.22></line></svg></span></button><ul class="navbar-nav fork-me order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/XYQuadrat><svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://staging.xyquadrat.ch/#blog>Blog</a><li class=nav-item><a class=nav-link href=https://staging.xyquadrat.ch/and/>A&D</a></ul><div class="break order-6 d-md-none"></div></div></div></header><div class="wrap container" role=document><div class=content><div class="row justify-content-center"><div class="col-md-12 col-lg-10 col-xl-8"><article><div class=blog-header><h1>Running an appropriately sophisticated Minecraft server in 2021</h1><p><small>13. December 2021  ‐ <strong>6 min read</strong></small><p></div><p>Even more than a decade after its release, Minecraft continues to be popular and receives regular updates. A healthy modding community (if we conveniently ignore debates about Forge versus Fabric) produces a steady stream of huge modpacks that use Minecraft merely as a game engine to build their own experiences on top. But sometimes, all you want is to play good old Vanilla Minecraft, go farm some diamonds and be happy if you manage to build a house that looks better than a dirt block.<p>From the perspective of a server admin, things have changed in the last years, though much of the improvements that have been made have never reached a large number of servers. I want to give a concise overview of what the best options (in my view) for various aspects of running a server in 2021 are.<p><img src=/img/minecraft_screenshot.png><h1 id=hardware>Hardware</h1><p>No hardware, no server. Realistically speaking, you’ll want to have something with the at very least 1GB of RAM. Even that will not be a very pleasant experience if you have more than 2-3 players. At 4GB+ we’re starting to get into the reasonable territory, with about 8GB being a good choice for up to about 20 players and a modest set of plugins. More than that doesn’t hurt, of course. In terms of CPU power, single threaded performance matters more than additional cores, but as a rule of thumb: anything that can run Minecraft decently as a client can also run it as a server.<h1 id=operating-system>Operating System</h1><p>Just use some flavor of Linux. Ubuntu Server Edition or Debian are solid choices. I would not recommend using graphical desktop environments (unnecessary loss of performance) or Windows / MacOS - these really aren’t meant to be server operating systems, and their server variants are on life support at best.<h1 id=server-implementation>Server implementation</h1><p><img src=/img/paper-logo.svg><p>Originally, you would be using the offically provided server binary from Mojang, but these days are long gone. Spigot with their extensive plugin support was a great choice for a long time, but by now most new setups have moved on to <strong><a href=https://papermc.io/ rel=noopener target=_blank>Paper</a></strong>, a fork with better performance and plugin compatibility. <a href=https://velocitypowered.com/ rel=noopener target=_blank>There</a> <a href=https://github.com/PatinaMC/Patina rel=noopener target=_blank>are</a> <a href=https://github.com/pufferfish-gg/Pufferfish rel=noopener target=_blank>numerous</a> <a href=https://airplane.gg/ rel=noopener target=_blank>other</a> <a href=https://github.com/YatopiaMC/Yatopia rel=noopener target=_blank>forks</a>, in fact there are so many of them that <a href="https://forks.smhsmh.club/img.png#v=1" rel=noopener target=_blank>someone created a Forkception image listing only a select few of them</a> to show how messy the landscape is. Really the only other significant fork/project I’d consider apart from Paper is <a href=https://purpurmc.org/ rel=noopener target=_blank>Purpur</a> which has a million config tweaks (including some that make every mob rideable…) - but given that I personally don’t need those, I stick with Paper. Most forks either have a tiny community, include patches that break plugins / expected behavior or have a questionable code quality.<h1 id=plugins>Plugins</h1><p>In principle, just running a Paper server without anything is already enough, and some will be happy with such a setup. But most server populations demand <em>some</em> amount of plugins, for example because <del>they aren’t good enough at the game to survive a night on Hard</del> they don’t want to require everyone to sleep to skip the night, or because they want permissions to <code>/tp</code> but you’d (rightfully) prefer not to give everyone OP rights. Personally, I like to roll with these four plugins:<ul><li><a href=https://essentialsx.net/ rel=noopener target=_blank>EssentialsX</a> has a nice selection of “a bit of everything”, including warps and convenience features such as <code>/otp</code> that teleports you to offline players.<li><a href=https://luckperms.net/ rel=noopener target=_blank>LuckPerms</a> is the permissions plugin of my choice. Maybe make a <code>trusted</code> group that has access to teleporting and then some <code>moderators</code> that can change their gamemode? Whatever permissions you want to hand out, LuckPerms probably covers them. (Tip: You can find the EssentialsX permission list <a href=https://essinfo.xeya.me/permissions.html rel=noopener target=_blank>on this handy site</a>.)<li><a href=https://github.com/mrgeneralq/sleep-most rel=noopener target=_blank>sleep-most</a> is a simple but very customizable sleep skipping plugin. It does one thing, and it does it well.<li><a href=https://www.spigotmc.org/resources/vault.34315/ rel=noopener target=_blank>Vault</a> is just an API for Permissions / Chat / Economy, but some features of EssentialsX need it.</ul><h1 id=tweaking-performance>Tweaking performance</h1><p>Just Paper on a reasonably fast server should already provide a good experience for your players. But there are lots of improvements you can make to enhance performance. There’s an <a href=https://github.com/YouHaveTrouble/minecraft-optimization rel=noopener target=_blank>excellent extensive guide on optimization</a> by YouHaveTrouble. To save you some reading, here are the 3 most important things to change:<ul><li>Use the Java startup flags by Aikar (<a href=https://blog.airplane.gg/aikar-flags/ rel=noopener target=_blank>here’s a handy generator</a>). Quite a bit of testing has went into these flags, and they are widely accepted to be the gold standard (until ZGC, a comparatively new garbage collector, becomes mature enough).<li>Pregenerate your chunks. <a href=https://github.com/pop4959/Chunky rel=noopener target=_blank>Chunky</a> makes this very easy. This helps a ton in my experience, especially when there are multiple players exploring the world.<li>If you run a redstone-heavy server, you’ll benefit a lot by setting <code>use-faster-eigencraft-redstone: true</code> in your <code>paper.yml</code> which enables an alternative implementation of the redstone logic that is much more performant.</ul><h1 id=miscellaneous-things>Miscellaneous things</h1><ul><li><code>tmux</code> is helpful because otherwise the server will stop when disconnecting over SSH.<li>Consider using a whitelist or WorldGuard to protect your server against griefing.<li>Ask your players what they want. Unless you’re a dictator.</ul><h1 id=backups>Backups</h1><p>See, it’s kind of a mistake to put this at the very bottom. Backups are important. When your server crashes and the world save is corrupted, your players won’t like hearing that the life-sized recreation of Atlantis that they’ve been working on for weeks is irrevocably lost. There is a myriad of options for backing up stuff, from simple Bash scripts that make a <code>.zip</code> file to enterprise-grade redundant systems. I personally really like <a href=https://torsion.org/borgmatic/ rel=noopener target=_blank><code>borgmatic</code></a>, which is a friendly interface to <code>borgbackup</code>. Throw their systemd unit file in the right folder, set the timer to once per day when everyone is sleeping, and you’re good to go.<h1 id=future-areas-of-work>Future areas of work</h1><p>Two big things are missing here:<ul><li>Autorestarting your server after a crash or power outage<li>Monitoring and alerting (preferably selfhosted)</ul><p>I’ll be back with another blog post once I got those set up the way I like it.</article></div></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://www.getzola.org/>Zola</a></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item>Proudly part of the <a href=https://polyring.ch>Polyring blogging network.</a></ul></div></div></div></footer><script defer src=https://staging.xyquadrat.ch/js/main.js></script>